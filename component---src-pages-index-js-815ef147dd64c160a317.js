(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(63),o=a(58),c=(a(74),a(75),a(57)),i=a(76),l=a.n(i),u=a(79);a(78);var m=class extends r.a.Component{constructor(e){super(e),this.state={object:e.object?e.object:{},isLoaded:!1}}render(){return r.a.createElement("a",{className:"object-tile-a",href:this.state.object.url},r.a.createElement("div",{className:"object-tile",style:{backgroundImage:`url(${this.state.object.images[0].thumbnail.url})`}},r.a.createElement("div",{className:"info"},r.a.createElement("p",null,this.state.object.name))))}};var d=class extends r.a.Component{constructor(e){super(e),this.state={objects:e.objects?e.objects:[],isLoaded:!1,currentPage:0,hasMore:!0,query:e.query?e.query:""},this.getObjects=this.getObjects.bind(this)}componentDidMount(){}componentDidUpdate(e){this.props.query!==e.query&&(this.setState({currentPage:0,query:this.props.query,objects:[],isLoaded:!1}),this.getObjects(0))}getObjects(e){fetch(c.a.recent_objects_url+"&page="+e+"&q="+this.state.query).then(e=>e.json()).then(e=>{e.items?this.setState({isLoaded:!0,objects:this.state.objects.concat(e.items)}):this.setState({hasMore:!1})},e=>{this.setState({hasMore:!1,isLoaded:!0,error:e})})}renderSkeleton(){const e=Array.from({length:16},(e,t)=>r.a.createElement(u.a,{key:t,height:230,width:230,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"230",height:"230"})));return r.a.createElement("div",{className:"loader"},e)}render(){const e=this.state.objects.map((e,t)=>r.a.createElement(m,{key:t,object:e}));return this.state.isLoaded&&0===this.state.objects.length?r.a.createElement("p",null,"No objects found :(",r.a.createElement("br",null),"Try reloading the page"):r.a.createElement(l.a,{className:"tiles",pageStart:0,loadMore:this.getObjects,hasMore:this.state.hasMore,loader:this.renderSkeleton(),useWindow:!0,threshold:400},e)}},h=(a(80),a(81)),p=a.n(h);function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b=e=>e.name,y=e=>r.a.createElement("div",{className:"search-suggestion"},r.a.createElement("a",{href:e.url},r.a.createElement("img",{className:"image",alt:"suggested object",src:e.image}),r.a.createElement("div",{className:"text"},e.name,r.a.createElement("br",null),e.designer)));var f=class extends r.a.Component{constructor(e){super(e),g(this,"onChange",(e,{newValue:t})=>{this.props.onSearch(t),this.setState({value:t})}),g(this,"onSuggestionsFetchRequested",({value:e})=>{}),g(this,"onSuggestionsClearRequested",()=>{this.setState({suggestions:[]})}),this.state={value:"",suggestions:[]}}render(){const{value:e,suggestions:t}=this.state,a={placeholder:"Search for an object",value:e,onChange:this.onChange};return r.a.createElement(p.a,{suggestions:t,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:b,renderSuggestion:y,inputProps:a})}};t.default=class extends r.a.Component{constructor(e){super(e),this.state={showMenu:!0},this.onSearch=this.onSearch.bind(this),this.state.query=""}onSearch(e){this.setState({query:e})}render(){return r.a.createElement(s.a,null,r.a.createElement(o.a,{title:"Home"}),r.a.createElement("div",{className:"content"},r.a.createElement(f,{onSearch:this.onSearch}),r.a.createElement("div",{className:"scan-the-world"},r.a.createElement("div",{className:"intro"},r.a.createElement("h1",null,r.a.createElement("b",null,"scan")," the ",r.a.createElement("i",null,"world")),r.a.createElement("p",null,"Scan The World is a movement archive objects of cultural significance using 3D scanning technologies, producing an extensive platform of content suitable for 3D printing.")),r.a.createElement(d,{query:this.state.query}))))}}},56:function(e,t,a){e.exports=(e=>e&&e.default||e)(a(61))},57:function(e,t,a){"use strict";t.a={access_token:null,myminifactory_url:"https://www.myminifactory.com",logo_url:"https://www.myminifactory.com/images/logo_mobile.png",recent_objects_url:"https://www.myminifactory.com/api/v2/search?cat=112&sort=date&per_page=16&light=1",suggester_url:"https://www.myminifactory.com/search/search-suggester",social_links:[{name:"Instagram",url:"https://www.instagram.com/scantheworld"},{name:"Twitter",url:"https://twitter.com/Scan_The_World"},{name:"Medium",url:"https://medium.com/scantheworld"}]}},58:function(e,t,a){"use strict";var n=a(59),r=a(0),s=a.n(r),o=a(3),c=a.n(o),i=a(64),l=a.n(i);function u({description:e,lang:t,meta:a,title:r}){const{site:o}=n.data,c=e||o.siteMetadata.description;return s.a.createElement(l.a,{htmlAttributes:{lang:t},title:r,titleTemplate:`%s | ${o.siteMetadata.title}`,meta:[{name:"description",content:c},{property:"og:title",content:r},{property:"og:description",content:c},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:o.siteMetadata.author},{name:"twitter:title",content:r},{name:"twitter:description",content:c}].concat(a)})}u.defaultProps={lang:"en",meta:[],description:"",title:"Scan The World"},u.propTypes={description:c.a.string,lang:c.a.string,meta:c.a.arrayOf(c.a.object),title:c.a.string.isRequired},t.a=u},59:function(e){e.exports={data:{site:{siteMetadata:{title:"Scan The World",description:"",author:"Romain B."}}}}},60:function(e){e.exports={data:{site:{siteMetadata:{title:"Scan The World"}}}}},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),o=a.n(s),c=a(16),i=a(2);const l=({location:e})=>{const t=i.default.getResourcesForPathnameSync(e.pathname);return t?r.a.createElement(c.a,{location:e,pageResources:t,...t.json}):null};l.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},t.default=l},62:function(e){e.exports={data:{allMarkdownRemark:{totalCount:2,edges:[{node:{id:"366ca28e-d338-5600-885d-e42943f4ea35",frontmatter:{title:"About",path:"about"},excerpt:"About page"}},{node:{id:"ffb6bf1b-aeb9-5b07-82a5-fbd62409774f",frontmatter:{title:"Contribute",path:"contribute"},excerpt:"contribute page"}}]}}}},63:function(e,t,a){"use strict";var n=a(60),r=a(0),s=a.n(r),o=a(3),c=a.n(o),i=a(9),l=a.n(i);a(56);const u=s.a.createContext({}),m=e=>s.a.createElement(u.Consumer,null,t=>e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):s.a.createElement("div",null,"Loading (StaticQuery)"));m.propTypes={data:c.a.object,query:c.a.string.isRequired,render:c.a.func,children:c.a.func};a(65);var d=a(55),h=a(57);var p=class extends r.Component{constructor(e){super(e),this.state={links:e.links?e.links:h.a.social_links}}renderLinks(){return this.state.links.map((e,t)=>{let a=null;switch(e.name.toLowerCase()){case"twitter":a=s.a.createElement(d.c,null);break;case"medium":a=s.a.createElement(d.b,null);break;case"instagram":a=s.a.createElement(d.a,null);break;default:a=s.a.createElement(d.c,null)}return s.a.createElement("li",{key:t,className:"link-item",title:e.name},s.a.createElement("a",{href:e.url},a))})}render(){return s.a.createElement("div",{className:"social-bar"},s.a.createElement("p",{className:"social"},"social"),s.a.createElement("ul",{className:"links"},this.renderLinks()))}},g=a(62);a(66);const b="https://www.myminifactory.com",y="https://www.myminifactory.com/favicon.png";var f=class extends r.Component{renderLinks(){return s.a.createElement(m,{query:"3776865759",render:e=>{let t=[s.a.createElement("li",{key:0,className:"link-item"},s.a.createElement("a",{href:"/scan-the-world"},"Home"))];return e.allMarkdownRemark.edges.map(({node:e},a)=>t.push(s.a.createElement("li",{key:a+1,className:"link-item"},s.a.createElement(l.a,{to:e.frontmatter.path},e.frontmatter.title)))),t},data:g})}render(){return s.a.createElement("div",{className:"top-bar"},s.a.createElement("a",{href:b},s.a.createElement("img",{className:"logo",src:y,alt:"MyMiniFactory Logo"})),s.a.createElement("ul",{className:"links"},this.renderLinks()))}};const E=({children:e})=>s.a.createElement(m,{query:"755544856",render:t=>s.a.createElement(s.a.Fragment,null,s.a.createElement(f,null),s.a.createElement(p,null),s.a.createElement("main",null,e)),data:n});E.propTypes={children:c.a.node.isRequired};t.a=E}}]);
//# sourceMappingURL=component---src-pages-index-js-815ef147dd64c160a317.js.map